<Page x:Class="login_store.ForgotPasswordPage"

      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"

      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"

      Background="Transparent"

      Title="ForgotPasswordPage">



    <Border CornerRadius="12"

            ClipToBounds="True"

            MouseLeftButtonDown="Border_MouseLeftButtonDown">



        <Border.Background>

            <ImageBrush ImageSource="/login_store;component/Images/BG_SHOP/BG5.jpg"

                        Stretch="Fill"/>

        </Border.Background>



        <Border CornerRadius="10" BorderThickness="2" Opacity="0.95">

            <Border.BorderBrush>

                <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">

                    <GradientStop Color="Black" Offset="0"/>

                    <GradientStop Color="Black" Offset="0.75"/>

                    <GradientStop Color="Black" Offset="1"/>

                </LinearGradientBrush>

            </Border.BorderBrush>



            <Grid>



                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Top" Margin="0,15,15,0">

                    <Button x:Name="btnMinimize" Click="MinimizeButton_Click" Content="—" FontWeight="Bold" FontSize="14" Cursor="Hand" VerticalAlignment="Top">

                        <Button.Style>

                            <Style TargetType="Button">

                                <Setter Property="Background" Value="Transparent"/>

                                <Setter Property="Foreground" Value="Gray"/>

                                <Setter Property="BorderThickness" Value="0"/>

                                <Setter Property="Template">

                                    <Setter.Value>

                                        <ControlTemplate TargetType="Button">

                                            <Border Background="{TemplateBinding Background}" Width="30" Height="30" CornerRadius="4">

                                                <ContentPresenter VerticalAlignment="Center" HorizontalAlignment="Center"/>

                                            </Border>

                                        </ControlTemplate>

                                    </Setter.Value>

                                </Setter>

                                <Style.Triggers>

                                    <Trigger Property="IsMouseOver" Value="True">

                                        <Setter Property="Background" Value="#4C4C4C"/>

                                        <Setter Property="Foreground" Value="White"/>

                                    </Trigger>

                                </Style.Triggers>

                            </Style>

                        </Button.Style>

                    </Button>

                    <Button x:Name="btnMaximizeRestore" Click="MaximizeRestoreButton_Click" Content="☐" FontWeight="Bold" FontSize="14" Cursor="Hand" VerticalAlignment="Top" Margin="5,0,0,0">

                        <Button.Style>

                            <Style TargetType="Button">

                                <Setter Property="Background" Value="Transparent"/>

                                <Setter Property="Foreground" Value="Gray"/>

                                <Setter Property="BorderThickness" Value="0"/>

                                <Setter Property="Template">

                                    <Setter.Value>

                                        <ControlTemplate TargetType="Button">

                                            <Border Background="{TemplateBinding Background}" Width="30" Height="30" CornerRadius="4">

                                                <ContentPresenter VerticalAlignment="Center" HorizontalAlignment="Center"/>

                                            </Border>

                                        </ControlTemplate>

                                    </Setter.Value>

                                </Setter>

                                <Style.Triggers>

                                    <Trigger Property="IsMouseOver" Value="True">

                                        <Setter Property="Background" Value="#4C4C4C"/>

                                        <Setter Property="Foreground" Value="White"/>

                                    </Trigger>

                                </Style.Triggers>

                            </Style>

                        </Button.Style>

                    </Button>

                    <Button x:Name="btnClose" Click="CloseButton_Click" Content="X" FontWeight="Bold" FontSize="14" Cursor="Hand" VerticalAlignment="Top" Margin="5,0,0,0">

                        <Button.Style>

                            <Style TargetType="Button">

                                <Setter Property="Background" Value="Transparent"/>

                                <Setter Property="Foreground" Value="Gray"/>

                                <Setter Property="BorderThickness" Value="0"/>

                                <Setter Property="Template">

                                    <Setter.Value>

                                        <ControlTemplate TargetType="Button">

                                            <Border Background="{TemplateBinding Background}" Width="30" Height="30" CornerRadius="4">

                                                <ContentPresenter VerticalAlignment="Center" HorizontalAlignment="Center"/>

                                            </Border>

                                        </ControlTemplate>

                                    </Setter.Value>

                                </Setter>

                                <Style.Triggers>

                                    <Trigger Property="IsMouseOver" Value="True">

                                        <Setter Property="Background" Value="#E81123"/>

                                        <Setter Property="Foreground" Value="White"/>

                                    </Trigger>

                                </Style.Triggers>

                            </Style>

                        </Button.Style>

                    </Button>

                </StackPanel>



                <Viewbox HorizontalAlignment="Center" 

                         VerticalAlignment="Center"

                         Stretch="Uniform"

                         MaxWidth="550" 

                         MaxHeight="800">



                    <StackPanel Width="220" Orientation="Vertical">



                        <TextBlock Text="ลืมรหัสผ่าน?"

                                   Foreground="White"

                                   FontSize="25"

                                   FontWeight="Medium"

                                   FontFamily="Segoe UI"

                                   HorizontalAlignment="Center"

                                   Margin="0,5,0,0"/>



                        <StackPanel x:Name="inputPanel">

                            <TextBlock Text="กรอกชื่อผู้ใช้หรืออีเมลของคุณเพื่อรับ OTP"

                                       Foreground="LightGray"

                                       FontSize="12"

                                       TextWrapping="Wrap"

                                       TextAlignment="Center"

                                       Margin="0,5,0,0"/>



                            <StackPanel Orientation="Horizontal" Margin="0,30,0,0" VerticalAlignment="Bottom">

                                <TextBlock Text="ชื่อผู้ใช้ หรือ อีเมล" Foreground="DarkGray" FontSize="12"/>

                                <TextBlock x:Name="tbInputError" Text="(Error)" Foreground="Yellow" FontSize="11" Margin="5,0,0,0" VerticalAlignment="Bottom" TextWrapping="Wrap" Visibility="Collapsed"/>

                            </StackPanel>



                            <TextBox x:Name="txtUsernameOrEmail"

                                     FontSize="13" 
                                     Foreground="White" 
                                     CaretBrush="LightGray" 
                                     BorderBrush="DarkGray" 
                                     BorderThickness="0,0,0,2" 
                                     Height="28"
                                     VerticalContentAlignment="Center" 
                                     Margin="0,5,0,0" 
                                     Padding="30,0,0,0"
                                     KeyDown="Input_KeyDown">

                                <TextBox.Background>

                                    <ImageBrush ImageSource="/Images/user-icon (2).png" Stretch="None" AlignmentX="Left" AlignmentY="Center"/>

                                </TextBox.Background>

                            </TextBox>



                            <Button x:Name="btnSendOtp" Content="SEND OTP"
                                    Click="SendOTP_Click"
                                    Foreground="White" 
                                    FontSize="12"
                                    Cursor="Hand"
                                    Margin="0,35,0,0"
                                    BorderThickness="0">

                                <Button.Style>

                                    <Style TargetType="Button">

                                        <Setter Property="Background" Value="#FF00BF63"/>

                                        <Style.Triggers>

                                            <Trigger Property="IsMouseOver" Value="True">

                                                <Setter Property="Background" Value="#FFB2F0C1"/>

                                            </Trigger>

                                        </Style.Triggers>

                                    </Style>

                                </Button.Style>

                                <Button.Template>

                                    <ControlTemplate TargetType="Button">

                                        <Border Width="150" Height="40" CornerRadius="20" Background="{TemplateBinding Background}">

                                            <ContentPresenter VerticalAlignment="Center" HorizontalAlignment="Center"/>

                                        </Border>

                                    </ControlTemplate>

                                </Button.Template>

                            </Button>

                        </StackPanel>



                        <StackPanel x:Name="otpPanel" 
                                    Visibility="Collapsed">

                            <TextBlock Text="กรอกรหัส OTP 6 หลักที่ได้รับทางอีเมล"

                                       Foreground="LightGray"

                                       FontSize="12"

                                       TextWrapping="Wrap"

                                       TextAlignment="Center"

                                       Margin="0,5,0,0"/>



                            <StackPanel Orientation="Horizontal" Margin="0,30,0,0" VerticalAlignment="Bottom">

                                <TextBlock Text="รหัส OTP" Foreground="DarkGray" FontSize="12"/>

                                <TextBlock x:Name="tbOTPError" Text="(Error)" Foreground="Yellow" FontSize="11" Margin="5,0,0,0" VerticalAlignment="Bottom" TextWrapping="Wrap" Visibility="Collapsed"/>

                            </StackPanel>



                            <TextBox x:Name="txtOTP"

                                     FontSize="13" 
                                     Foreground="White"
                                     CaretBrush="LightGray"
                                     BorderBrush="DarkGray"
                                     BorderThickness="0,0,0,2"
                                     Height="28"
                                     VerticalContentAlignment="Center" 
                                     Margin="0,5,0,0" 
                                     Padding="30,0,0,0"
                                     MaxLength="6"
                                     KeyDown="Input_KeyDown">

                                <TextBox.Background>

                                    <ImageBrush ImageSource="/Images/key-icon (2).png" Stretch="None" AlignmentX="Left" AlignmentY="Center"/>

                                </TextBox.Background>

                            </TextBox>
                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,10,0,0">
                                <TextBlock Text="ขอรหัส OTP ใหม่อีกครั้งใน " Foreground="LightGray" FontSize="11"/>
                                <TextBlock x:Name="tbCountdown" Text="60" Foreground="White" FontSize="11" Margin="3,0,3,0"/>
                                <TextBlock Text=" วินาที" Foreground="LightGray" FontSize="11"/>

                                <Button x:Name="btnResendOtp"
                            Content="ขอ OTP ใหม่"
                            Click="ResendOTP_Click"
                            Foreground="SkyBlue"
                            FontSize="11"
                            Cursor="Hand"
                            Background="Transparent"
                            BorderThickness="0"
                            Visibility="Collapsed"
                            Margin="5,0,0,0"/>
                            </StackPanel>



                            <Button x:Name="btnVerifyOtp" Content="VERIFY OTP"

                                    Click="VerifyOTP_Click"

                                    Foreground="White" FontSize="12" Cursor="Hand" Margin="0,35,0,0" BorderThickness="0">

                                <Button.Style>

                                    <Style TargetType="Button">

                                        <Setter Property="Background" Value="#FFF00A0A"/>

                                        <Style.Triggers>

                                            <Trigger Property="IsMouseOver" Value="True">

                                                <Setter Property="Background" Value="#FF0FE342"/>

                                            </Trigger>

                                        </Style.Triggers>

                                    </Style>

                                </Button.Style>

                                <Button.Template>

                                    <ControlTemplate TargetType="Button">

                                        <Border Width="150" Height="40" CornerRadius="20" Background="{TemplateBinding Background}">

                                            <ContentPresenter VerticalAlignment="Center" HorizontalAlignment="Center"/>

                                        </Border>

                                    </ControlTemplate>

                                </Button.Template>

                            </Button>

                        </StackPanel>





                        <StackPanel Orientation="Horizontal"

                                    HorizontalAlignment="Center"

                                    Margin="0,15,0,0">

                            <TextBlock Text="← กลับสู่หน้าล็อกอิน"

                                       Foreground="White"

                                       FontSize="12"

                                       Cursor="Hand"

                                       MouseLeftButtonUp="BackToLogin_Click" />

                        </StackPanel>



                    </StackPanel>

                </Viewbox>

            </Grid>

        </Border>

    </Border>

</Page>